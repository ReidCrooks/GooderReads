<!-- app/views/users/my_reads.html.erb -->
<section class="max-w-5xl mx-auto p-8">
  <h1 class="text-3xl font-bold mb-6">My Reads</h1>
  <% if @books.any? %>
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
      <% @books.each do |book| %>
        <div class="bg-white rounded-lg shadow p-4 flex flex-col">
          <!-- Cover Image -->
          <% if book.cover_image.attached? %>
            <%= image_tag book.cover_image,
                  class: "w-full h-64 object-cover rounded mb-4 shadow" %>
          <% else %>
            <%= image_tag "placeholder.jpg",
                  class: "w-full h-64 object-cover rounded mb-4 shadow" %>
          <% end %>
          <!-- Title -->
          <h2 class="text-xl font-semibold mb-1"><%= book.title %></h2>
          <!-- Author -->
          <p class="text-gray-700 mb-2"><strong>Author:</strong> <%= book.author %></p>
          <!-- Rating -->
          <p class="text-gray-700 mb-4">
            <strong>Rating:</strong> <%= book.average_rating&.round(2) || 0 %>/5
          </p>
          <!-- View button -->
          <%= link_to "View Book",
                book_path(book),
                class: "mt-auto inline-block bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 text-center" %>
        </div>
      <% end %>
    </div>
  <% else %>
    <p class="text-gray-600 mt-6">
      You have not added any books yet. Go to a book page and click
      <span class="font-semibold">“Add to My Reads.”</span>
    </p>
  <% end %>
  <div class="mt-8">
    <%= link_to "Back to Home", home_path, class: "text-blue-600 hover:underline" %>
  </div>
</section>
