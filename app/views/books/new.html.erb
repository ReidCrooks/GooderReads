 <!-- LOGIC FOR ADDING A NEW BOOK -->
<section class="max-w-2xl mx-auto p-8 bg-white rounded-lg shadow">
  <h1 class="text-3xl font-bold mb-6">Add a New Book</h1>
  <%= form_with model: @book, local: true, multipart: true do |f| %>
    <% if @book.errors.any? %>
      <div class="mb-4 p-4 bg-red-100 text-red-700 rounded">
        <p><strong><%= pluralize(@book.errors.count, "error") %> prevented this book from being saved:</strong></p>
        <ul class="list-disc ml-5">
          <% @book.errors.full_messages.each do |msg| %>
            <li><%= msg %></li>
          <% end %>
        </ul>
      </div>
    <% end %>
    <!-- Book Title -->
    <div class="mb-4">
      <%= f.label :title, class: "block font-semibold mb-1" %>
      <%= f.text_field :title, class: "w-full border rounded px-3 py-2" %>
    </div>
    <!-- Author Field -->
    <div class="mb-4">
      <%= f.label :author, class: "block font-semibold mb-1" %>
      <%= f.text_field :author, class: "w-full border rounded px-3 py-2" %>
    </div>
    <div class="mb-4">
      <%= f.label :genre_ids, "Genres", class: "block font-semibold mb-1" %>
      <%= f.collection_select :genre_ids,
                          Genre.order(:name),
                          :id,
                          :name,
                          { include_hidden: false },
                          { multiple: true,
                            class: "w-full border rounded px-3 py-2 h-40" } %>
      <p class="text-xs text-gray-500 mt-1">
        Hold Ctrl (Windows/Linux) or Command (Mac) to select multiple genres.
      </p>
    </div>
    <div class="mb-4">
      <%= f.label :description, class: "block font-semibold mb-1" %>
      <%= f.text_area :description, rows: 5, class: "w-full border rounded px-3 py-2" %>
    </div>
    <div class="mb-6">
      <%= f.label :cover_image, "Upload Cover Image", class: "block font-semibold mb-1" %>
      <%= f.file_field :cover_image, class: "w-full" %>
    </div>
    <div>
      <%= f.submit "Create Book", class: "px-4 py-2 rounded bg-green-600 text-white hover:bg-green-700" %>
    </div>
  <% end %>
</section>
